---
ai_context_version: 1.1

# COMPATIBILITY SHIM / ALIAS
# Canonical file: ai-contexts/contracts-mirror.ai-context.yml
# Do not update this file except to keep the alias pointing to canonical truth.

project:
  name: contracts-mirror
  summary: External API schemas (protobuf) + JSON mirror; source-of-truth lives outside metarepo.
  role: contracts_external_api
  primary_language: mixed
  visibility: internal

heimgewebe:
  axis: [Contracts]
  fleet:
    enabled: true
  wgx:
    profile_expected: true
    guard_smoke_expected: true

interfaces:
  consumes: []
  produces:
    - "aussen/v1 protobuf"
    - "heimlern/v1 protobuf"
    - "JSON schema mirror"

contracts:
  schemas:
    - path: "contracts/*.schema.json"
      note: "This is the mirror. Canonical internal contracts live in metarepo/contracts."

boundaries:
  not_responsible_for:
    - "Internal-only contracts (metarepo)."
  dangerous_assumptions:
    - "Confuse 'contracts' with 'contracts-mirror'. Verify repo name."

conventions:
  branching: "main, feature/*, hotfix/*"
  commit_prefix: "contracts"
  ci_platform: github_actions

documentation:
  adr: docs/adrs/
  runbook: docs/runbook.md
  api_reference:
    - json/*
    - proto/*

ai_guidance:
  do:
    - never break schemas; use additive changes and/or new versions
    - validate JSONL fixtures with AJV; keep examples minimal but complete
    - keep file moves as renames (git mv) to preserve history
  dont:
    - change formats without version bump
