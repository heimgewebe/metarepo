---
# Maschinenlesbare Übersicht, welche Repos welche zentralen Heimgewebe-Contracts konsumieren.
#
# Grundprinzip:
# - Alle hier referenzierten Schemas liegen kanonisch im metarepo unter ./contracts/.
# - Consumer-Repos dürfen diese Schemas:
#   - nur referenzieren (mode: reference-only), oder
#   - 1:1 spiegeln (mode: mirror) mit CI-Driftcheck.
#
# Diese Datei ist bewusst einfach gehalten, damit sie später von Tools
# (z. B. wgx oder heimgeist) ausgewertet werden kann.

event_backbone:
  aussen.event:
    schema: contracts/aussen.event.schema.json
    consumers:
      - repo: aussensensor
        files:
          - contracts/aussen.event.schema.json
        mode: mirror
      - repo: chronik
        files: []
        mode: reference-only

  event.line:
    schema: contracts/event.line.schema.json
    consumers:
      - repo: chronik
        files: []
        mode: reference-only
      # Weitere Repos bei Bedarf ergänzen

  heimgeist.insight:
    schema: contracts/events/heimgeist.insight.v1.schema.json
    consumers:
      - repo: chronik
        files: []
        mode: reference-only
      - repo: semantAH
        files: []
        mode: reference-only
      - repo: leitstand
        files: []
        mode: reference-only

fixtures:
  chronik-fixtures:
    schema: contracts/chronik-fixtures.schema.json
    consumers:
      - repo: chronik
        files: []
        mode: reference-only

metrics:
  fleet.health:
    schema: contracts/fleet.health.schema.json
    consumers:
      - repo: wgx
        files: []
        mode: reference-only
      - repo: leitstand
        files: []
        mode: reference-only

integrity:
  summary:
    schema: contracts/integrity.summary.schema.json
    consumers:
      - repo: leitstand
        files: []
        mode: reference-only
      - repo: wgx
        files: []
        mode: reference-only

knowledge:
  insights.daily:
    schema: contracts/insights.daily.schema.json
    consumers:
      - repo: semantAH
        files: []
        mode: reference-only
      - repo: chronik
        files: []
        mode: reference-only
      - repo: leitstand
        files: []
        mode: reference-only

  insights.daily.published:
    schema: contracts/events/insights.daily.published.v1.schema.json
    consumers:
      - repo: plexer
        files: []
        mode: notification-only
      - repo: chronik
        files: []
        mode: reference-only
      - repo: leitstand
        files: []
        mode: reference-only
      - repo: hausKI
        files: []
        mode: reference-only

  observatory:
    schema: contracts/knowledge.observatory.schema.json
    consumers:
      - repo: leitstand
        files: []
        mode: reference-only
      - repo: hausKI
        files: []
        mode: reference-only
      - repo: heimlern
        files: []
        mode: reference-only

os_context:
  state:
    schema: contracts/os.context.state.schema.json
    consumers:
      - repo: mitschreiber
        files: []
        mode: reference-only

  text.embed:
    schema: contracts/os.context.text.embed.schema.json
    consumers:
      - repo: semantAH
        files: []
        mode: reference-only

policy:
  decision:
    schema: contracts/policy.decision.schema.json
    consumers:
      - repo: heimlern
        files: []
        mode: reference-only
      - repo: hausKI
        files: []
        mode: reference-only

  feedback:
    schema: contracts/policy.feedback.schema.json
    consumers:
      - repo: heimlern
        files: []
        mode: reference-only

  snapshot:
    schema: contracts/policy.snapshot.schema.json
    consumers:
      - repo: heimlern
        files: []
        mode: reference-only

webmaschine:
  state.index:
    schema: contracts/webmaschine/state/index.schema.json
    consumers:
      - repo: webmaschine
        files: []
        mode: mirror
  state.repos:
    schema: contracts/webmaschine/state/repos.schema.json
    consumers:
      - repo: webmaschine
        files: []
        mode: mirror
  state.uncertainties:
    schema: contracts/webmaschine/state/uncertainties.schema.json
    consumers:
      - repo: webmaschine
        files: []
        mode: mirror
  state.insights:
    schema: contracts/webmaschine/state/insights.schema.json
    consumers:
      - repo: webmaschine
        files: []
        mode: mirror
  state.drift:
    schema: contracts/webmaschine/state/drift.schema.json
    consumers:
      - repo: webmaschine
        files: []
        mode: mirror
  config.zones:
    schema: contracts/webmaschine/config/zones.schema.json
    consumers:
      - repo: webmaschine
        files: []
        mode: mirror
